(this.webpackJsonpravenous=this.webpackJsonpravenous||[]).push([[0],[,,,,,,,,,,,,,function(e,t,s){},function(e,t,s){},function(e,t,s){},function(e,t,s){},,function(e,t,s){},function(e,t,s){},function(e,t,s){"use strict";s.r(t);var i=s(2),a=s.n(i),n=s(8),o=s.n(n),c=(s(13),s(3)),l=s(4),r=s(1),h=s(6),u=s(5),g=(s.p,s(14),s(15),s(16),s(0)),b=function(e){Object(h.a)(s,e);var t=Object(u.a)(s);function s(){return Object(c.a)(this,s),t.apply(this,arguments)}return Object(l.a)(s,[{key:"render",value:function(){return Object(g.jsxs)("div",{className:"Business",children:[Object(g.jsx)("div",{className:"image-container",children:Object(g.jsx)("a",{href:this.props.business.url,children:Object(g.jsx)("img",{src:this.props.business.imageSrc,alt:""})})}),Object(g.jsx)("h2",{children:this.props.business.name}),Object(g.jsxs)("div",{className:"Business-information",children:[Object(g.jsxs)("div",{className:"Business-address",children:[Object(g.jsx)("p",{children:this.props.business.address}),Object(g.jsx)("p",{children:this.props.business.city}),Object(g.jsxs)("p",{children:[this.props.business.state," ",this.props.business.zipCode]})]}),Object(g.jsxs)("div",{className:"Business-reviews",children:[Object(g.jsx)("h3",{children:this.props.business.category}),Object(g.jsxs)("h3",{className:"rating",children:[this.props.business.rating," stars"]}),Object(g.jsxs)("p",{children:[this.props.business.reviewCount," reviews"]})]})]})]})}}]),s}(a.a.Component),d=b,j=(s(18),function(e){Object(h.a)(s,e);var t=Object(u.a)(s);function s(e){var i;return Object(c.a)(this,s),(i=t.call(this,e)).state={class_name:"active"},i.handleClick=i.handleClick.bind(Object(r.a)(i)),i}return Object(l.a)(s,[{key:"handleClick",value:function(e){this.props.changeVisibility(),console.log("this.state.isVisible",this.state.isVisible),e.preventDefault()}},{key:"render",value:function(){return Object(g.jsx)("div",{className:"DialogBox-container ".concat(this.props.visibilityState.className,"-DialogBox"),children:Object(g.jsx)("div",{className:"DialogBox",children:Object(g.jsxs)("div",{className:"DialogBox-subcontainer",children:[Object(g.jsx)("h3",{className:"title",children:this.props.title}),Object(g.jsx)("p",{className:"message",children:this.props.message}),Object(g.jsx)("div",{className:"action",onClick:this.handleClick,children:Object(g.jsx)("a",{children:this.props.action})})]})})})}}]),s}(a.a.Component)),p=function(e){Object(h.a)(s,e);var t=Object(u.a)(s);function s(e){var i;return Object(c.a)(this,s),(i=t.call(this,e)).state={isVisible:!1,className:"inactive"},i.counter=0,i.className="active    ",i.updateCounter=i.updateCounter.bind(Object(r.a)(i)),i.changeVisibility=i.changeVisibility.bind(Object(r.a)(i)),i.toggleDialogBoxState=i.toggleDialogBoxState.bind(Object(r.a)(i)),i.getVisibilityState=i.getVisibilityState.bind(Object(r.a)(i)),i.changeClassName=i.changeClassName.bind(Object(r.a)(i)),i.changeTwiceClassName=i.changeTwiceClassName.bind(Object(r.a)(i)),i}return Object(l.a)(s,[{key:"updateCounter",value:function(){this.counter++}},{key:"changeVisibility",value:function(){return this.updateCounter(),console.log("this.state.counter",this.counter),1===this.counter?"inactive":"active"}},{key:"toggleDialogBoxState",value:function(){this.setState({isVisible:!this.state.isVisible,className:"active"===this.state.className?"inactive":"active"}),console.log("this.state.className"),this.props.toggleDialogBoxState()}},{key:"getVisibilityState",value:function(){return this.props.getDialogBoxVisibilityState()}},{key:"changeClassName",value:function(){return this.updateCounter(),console.log("this.state.counter",this.counter),1===this.counter?this.className="inactive":this.className="active"===this.state.className?"inactive":"active",console.log("in changeClassName(): this.className",this.className),this.className}},{key:"changeTwiceClassName",value:function(){return 3===this.counter?this.setState({isVisible:!0,className:"active"}):this.counter>3&&this.setState({isVisible:!this.state.isVisible,className:"active"===this.className?"inactive":"active"}),console.log("in changeTwiceClassName(): this.className",this.state.className),{isVisible:this.state.isVisible,className:this.state.className}}},{key:"render",value:function(){return Object(g.jsx)("div",{className:"BusinessList",children:0!==this.props.businesses.length?this.props.businesses.map((function(e){return Object(g.jsx)(d,{business:e},e.id)})):Object(g.jsxs)("p",{className:"no-result ".concat(this.changeVisibility()),children:["No result found for ",this.props.searchInfo.term," in/at ",this.props.searchInfo.location]})})}}]),s}(a.a.Component),m=(s(19),function(e){Object(h.a)(s,e);var t=Object(u.a)(s);function s(e){var i;return Object(c.a)(this,s),(i=t.call(this,e)).state={term:"",location:"",sortBy:"best_match",isTerm:!1,isLocation:!1,dialogBoxInfo:{},isDialogBoxVisible:!1,dialogBoxClass:"inactive"},i.sortByOptions={"Best Match":"best_match","Highest Rated":"rating","Most Reviewed":"review_count"},i.counter=0,i.handleSortByChange=i.handleSortByChange.bind(Object(r.a)(i)),i.handleTermChange=i.handleTermChange.bind(Object(r.a)(i)),i.handleLocationChange=i.handleLocationChange.bind(Object(r.a)(i)),i.handleSearch=i.handleSearch.bind(Object(r.a)(i)),i.handleEnterOnTerm=i.handleEnterOnTerm.bind(Object(r.a)(i)),i.handleEnterOnLocation=i.handleEnterOnLocation.bind(Object(r.a)(i)),i.isTerm=i.isTerm.bind(Object(r.a)(i)),i.isLocation=i.isLocation.bind(Object(r.a)(i)),i.setDialogBox=i.setDialogBox.bind(Object(r.a)(i)),i.toggleDialogBoxState=i.toggleDialogBoxState.bind(Object(r.a)(i)),i.getVisibilityState=i.getVisibilityState.bind(Object(r.a)(i)),i}return Object(l.a)(s,[{key:"getSortByClass",value:function(e){return this.state.sortBy===e?"active":""}},{key:"handleSortByChange",value:function(e,t){this.setState({sortBy:t}),this.handleSearch(e)}},{key:"renderSortByOptions",value:function(){var e=this;return Object.keys(this.sortByOptions).map((function(t){var s=e.sortByOptions[t];return Object(g.jsx)("li",{className:e.getSortByClass(s),onClick:function(t){e.handleSortByChange(t,s)},children:t},s)}))}},{key:"handleTermChange",value:function(e){this.setState({term:e.target.value,isTerm:""!==this.state.term})}},{key:"handleLocationChange",value:function(e){this.setState({location:e.target.value,isLocation:""!==this.state.location})}},{key:"handleSearch",value:function(e){!1===this.isTerm()?(this.setDialogBox("Missing Search Input","Please enter a term.","Got it!"),this.toggleDialogBoxState()):!1===this.isLocation()?(this.setDialogBox("Missing Search Input","Please enter a location.","Got it!"),this.toggleDialogBoxState()):(this.props.searchYelp(this.state.term,this.state.location,this.state.sortBy),e.preventDefault())}},{key:"isTerm",value:function(){return!!this.state.term}},{key:"isLocation",value:function(){return!!this.state.location}},{key:"setDialogBox",value:function(e,t,s){this.setState({dialogBoxInfo:{title:e,message:t,action:s}})}},{key:"toggleDialogBoxState",value:function(){this.props.toggleDialogBoxState()}},{key:"getVisibilityState",value:function(){return this.props.getDialogBoxVisibilityState()}},{key:"handleEnterOnTerm",value:function(e){13===e.keyCode&&(this.isLocation()?this.props.searchYelp(this.state.term,this.state.location,this.state.sortBy):(this.setDialogBox("Missing Search Input","Please enter a location.","Got it!"),this.toggleDialogBoxState()))}},{key:"handleEnterOnLocation",value:function(e){13===e.keyCode&&(this.props.searchYelp(this.state.term,this.state.location,this.state.sortBy),!1===this.isTerm()&&(this.setDialogBox("Missing Search Input","Please enter a term.","Got it!"),this.toggleDialogBoxState()))}},{key:"render",value:function(){return Object(g.jsxs)("div",{className:"SearchBar",children:[Object(g.jsx)("div",{className:"SearchBar-sort-options",children:Object(g.jsx)("ul",{children:this.renderSortByOptions()})}),Object(g.jsxs)("div",{className:"SearchBar-fields",children:[Object(g.jsx)("input",{id:"termField",placeholder:"Search Business",onChange:this.handleTermChange,onKeyUp:this.handleEnterOnTerm}),Object(g.jsx)("input",{id:"locationField",placeholder:"Where?",onChange:this.handleLocationChange,onKeyUp:this.handleEnterOnLocation})]}),Object(g.jsx)("div",{className:"SearchBar-submit",children:Object(g.jsx)("a",{onClick:this.handleSearch,children:"Let's Go"})}),Object(g.jsx)(j,{title:this.state.dialogBoxInfo.title,message:this.state.dialogBoxInfo.message,action:this.state.dialogBoxInfo.action,changeVisibility:this.toggleDialogBoxState,visibilityState:this.getVisibilityState()})]})}}]),s}(a.a.Component)),x={search:function(e,t,s){var i="https://cors-anywhere.herokuapp.com/https://api.yelp.com/v3/businesses/search?term=".concat(e,"&location=").concat(t,"&sort_by=").concat(s),a={method:"GET",headers:{accept:"application/json","x-requested-with":"xmlhttprequest","Access-Control-Allow-Origin":"http://localhost:3000/",Authorization:"Bearer ".concat("d63bbESUMV8GvTzYeTXvg5LoFkATfAVU18QNlZQmod7oCOMNzg9cr_Twu6jOXjYwqfvG2IhRzgpOlJ1CvPc0BrfnZ9SVxTZuBcPUGzPNikpoVlkCuvIxWesPS8KxYXYx")}};return fetch(i,a).then((function(e){var t=e.json();return console.log("response: ",t),t})).then((function(e){if(e.businesses)return console.log("jsonResponse:",e),e.businesses.map((function(e){return{id:e.id,imageSrc:e.image_url,url:e.url,name:e.name,address:e.location.address1,city:e.location.city,state:e.location.state,zipCode:e.location.zip_code,category:e.categories[0].title,rating:e.rating,reviewCount:e.review_count}}))}))}},v=function(e){Object(h.a)(s,e);var t=Object(u.a)(s);function s(e){var i;return Object(c.a)(this,s),(i=t.call(this,e)).state={businesses:[],searchInfo:{},dialogBoxInfo:{},isDialogBoxVisible:!1,dialogBoxClass:"inactive"},i.searchYelp=i.searchYelp.bind(Object(r.a)(i)),i.toggleDialogBoxState=i.toggleDialogBoxState.bind(Object(r.a)(i)),i.getDialogBoxVisibilityState=i.getDialogBoxVisibilityState.bind(Object(r.a)(i)),i}return Object(l.a)(s,[{key:"searchYelp",value:function(e,t,s){var i=this;console.log("term:",e),console.log("location",t),console.log("sortBy",s),x.search(e,t,s).then((function(a){i.setState({businesses:a,searchInfo:{term:e,location:t,sortBy:s}})})),console.log("businesses:",this.state.businesses)}},{key:"toggleDialogBoxState",value:function(){this.setState({isDialogBoxVisible:!this.state.isDialogBoxVisible,dialogBoxClass:"inactive"===this.state.dialogBoxClass?"active":"inactive"}),console.log("1"),console.log("isVisible",this.state.isDialogBoxVisible),console.log("className",this.state.dialogBoxClass)}},{key:"getDialogBoxVisibilityState",value:function(){return console.log("2"),console.log("isVisible",this.state.isDialogBoxVisible),console.log("className",this.state.dialogBoxClass),{className:this.state.dialogBoxClass,isVisible:this.state.isDialogBoxVisible}}},{key:"render",value:function(){return Object(g.jsxs)("div",{className:"App",children:[Object(g.jsx)("h1",{children:"ravenous"}),Object(g.jsx)(m,{searchYelp:this.searchYelp,toggleDialogBoxState:this.toggleDialogBoxState,getDialogBoxVisibilityState:this.getDialogBoxVisibilityState}),Object(g.jsx)(p,{businesses:this.state.businesses,searchInfo:this.state.searchInfo,toggleDialogBoxState:this.toggleDialogBoxState,getDialogBoxVisibilityState:this.getDialogBoxVisibilityState})]})}}]),s}(a.a.Component),O=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,21)).then((function(t){var s=t.getCLS,i=t.getFID,a=t.getFCP,n=t.getLCP,o=t.getTTFB;s(e),i(e),a(e),n(e),o(e)}))};o.a.render(Object(g.jsx)(a.a.StrictMode,{children:Object(g.jsx)(v,{})}),document.getElementById("root")),O()}],[[20,1,2]]]);
//# sourceMappingURL=main.7bc7494e.chunk.js.map